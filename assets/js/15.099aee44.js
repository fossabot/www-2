(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{392:function(t,e,s){"use strict";s.r(e);var a=s(2),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Live streaming your video content is well-known among gamers, journalists, education entities and the entertainment industry.")]),t._v(" "),s("p",[t._v("You might already even been streaming to a particular platform (e.g. YouTube, Twitch, IBM Video). Did you know that you could stream your content to multiple platforms simultaneously? This is called multiplexing.")]),t._v(" "),s("p",[t._v("With multiplexing, you send your stream to one device, which, in turn, will send the stream to multiple destinations (live streaming platforms) simultaneously. It only takes an online device with Linux, e.g. a VPS at DigitalOcean or a Raspberry Pi.")]),t._v(" "),s("p",[t._v("Install some stuff, configure some stuff, go live. Here's how to do it.")]),t._v(" "),s("h2",{attrs:{id:"step-1-create-a-working-directory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-a-working-directory"}},[t._v("#")]),t._v(" Step 1: Create a working directory")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ~/nginx-rtmp-multiplexer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_")]),t._v("\n")])])]),s("h2",{attrs:{id:"step-2-install-required-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-2-install-required-packages"}},[t._v("#")]),t._v(" Step 2: Install required packages")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y build-essential libpcre3 libpcre3-dev libssl-dev "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unzip")]),t._v("\n")])])]),s("h2",{attrs:{id:"step-3-download-nginx-and-rtmp-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-3-download-nginx-and-rtmp-module"}},[t._v("#")]),t._v(" Step 3: Download nginx and RTMP module")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" http://nginx.org/download/nginx-1.7.5.tar.gz https://github.com/arut/nginx-rtmp-module/archive/master.zip\n")])])]),s("h2",{attrs:{id:"step-4-extract-the-files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-4-extract-the-files"}},[t._v("#")]),t._v(" Step 4: Extract the files")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf nginx-1.7.5.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unzip")]),t._v(" master.zip\n")])])]),s("h2",{attrs:{id:"step-5-configuring-nginx-to-include-the-rtmp-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-5-configuring-nginx-to-include-the-rtmp-module"}},[t._v("#")]),t._v(" Step 5: Configuring nginx to include the RTMP module")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" nginx-1.7.5\n./configure --with-http_ssl_module --add-module"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/nginx-rtmp-module-master\n")])])]),s("h3",{attrs:{id:"quickfix-for-implicit-fallthrough-error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quickfix-for-implicit-fallthrough-error"}},[t._v("#")]),t._v(" Quickfix for implicit fallthrough error")]),t._v(" "),s("p",[t._v("In "),s("code",[t._v("objs/Makefile")]),t._v("...")]),t._v(" "),s("p",[t._v("Change")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("CFLAGS "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  -pipe  -O -W -Wall -Wpointer-arith -Wno-unused -Werror -g  -I"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/nginx-rtmp-module-master\n")])])]),s("p",[t._v("to")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("CFLAGS "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  -pipe  -O -W -Wall -Wpointer-arith -Wno-unused -Wno-implicit-fallthrough -Werror -g  -I"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/nginx-rtmp-module-master\n")])])]),s("h2",{attrs:{id:"step-6-compile-nginx-with-rtmp-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-6-compile-nginx-with-rtmp-module"}},[t._v("#")]),t._v(" Step 6: Compile nginx with RTMP module")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),s("h2",{attrs:{id:"step-7-install-nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-7-install-nginx"}},[t._v("#")]),t._v(" Step 7: Install nginx")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("h2",{attrs:{id:"step-8-start-nginx-at-boot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-8-start-nginx-at-boot"}},[t._v("#")]),t._v(" Step 8: Start nginx at boot")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://raw.github.com/JasonGiedymin/nginx-init-ubuntu/master/nginx -O /etc/init.d/nginx\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x /etc/init.d/nginx\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" update-rc.d nginx defaults\n")])])]),s("h2",{attrs:{id:"step-7-testing-if-nginx-works"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-7-testing-if-nginx-works"}},[t._v("#")]),t._v(" Step 7: Testing if nginx works")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx start\n")])])]),s("p",[t._v("Use "),s("code",[t._v("hostname -I")]),t._v("  to figure out the server's IP address. Check if the server is available by navigating to "),s("code",[t._v("http://<server ip>/")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx stop\n")])])]),s("h2",{attrs:{id:"step-8-configure-rtmp-settings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-8-configure-rtmp-settings"}},[t._v("#")]),t._v(" Step 8: Configure RTMP settings")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" /usr/local/nginx/conf/nginx.conf\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("rtmp {\n        server {\n                listen 1935;\n                chunk_size 4096;\n\n                application live {\n                        live on;\n                        record off;\n                }\n        }\n}\n")])])]),s("h2",{attrs:{id:"step-9-testing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-9-testing"}},[t._v("#")]),t._v(" Step 9: Testing")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Send RTMP data to "),s("code",[t._v("rtmp://<your server ip>/live")]),t._v(", stream key "),s("code",[t._v("test")]),t._v(", e.g. with OBS or Wirecast.")])]),t._v(" "),s("li",[s("p",[t._v("Use a RTMP capable player like VLC to connect to "),s("code",[t._v("rtmp://<your server ip>/live")]),t._v(", stream key is "),s("code",[t._v("test")])])]),t._v(" "),s("li",[s("p",[t._v("It should work.")])])]),t._v(" "),s("h2",{attrs:{id:"step-10-pushing-incoming-rtmp-to-other-servers-e-g-twitch-youtube"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-10-pushing-incoming-rtmp-to-other-servers-e-g-twitch-youtube"}},[t._v("#")]),t._v(" Step 10: Pushing incoming RTMP to other servers (e.g. Twitch, YouTube, ...)")]),t._v(" "),s("p",[t._v("You add "),s("code",[t._v("push rtmp://<other streaming service rtmp url>/<stream key>")]),t._v(" and it should work, like this:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("rtmp {\n        server {\n                listen 1935;\n                chunk_size 4096;\n\n                application live {\n                        live on;\n                        record off;\n                        push rtmp://<other streaming service rtmp url>/<stream key>;\n                }\n        }\n}\n")])])]),s("h2",{attrs:{id:"step-11-pushing-incoming-rtmp-stream-to-multiple-servers-simultaneously-multiplexing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-11-pushing-incoming-rtmp-stream-to-multiple-servers-simultaneously-multiplexing"}},[t._v("#")]),t._v(" Step 11: Pushing incoming RTMP stream to multiple servers simultaneously (multiplexing)")]),t._v(" "),s("p",[t._v("Just add an additional line (e.g. YouTube). And another one (e.g. Twitch). And another one (e.g. Facebook). And another one (e.g. UStream), quite simple.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("rtmp {\n        server {\n                listen 1935;\n                chunk_size 4096;\n\n                application live {\n                        live on;\n                        record off;\n                        push rtmp://<other streaming service rtmp url>/<stream key>;\n                        push rtmp://<other streaming service rtmp url>/<stream key>;\n                }\n        }\n}\n")])])]),s("h2",{attrs:{id:"step-12-add-a-firewall"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-12-add-a-firewall"}},[t._v("#")]),t._v(" Step 12: Add a firewall")]),t._v(" "),s("p",[t._v("Be sure that you configure your firewall correctly, not allowing anyone else to send an RTMP stream to your server, because they will be able to send that stream to all of your configured servers as well.")])])}),[],!1,null,null,null);e.default=n.exports}}]);